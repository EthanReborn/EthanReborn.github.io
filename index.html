<!DOCTYPE html>

<html lang="en">
        <head>
                <meta charset="utf-8"/>
                <title> Gold </title>
		<link rel="stylesheet" type="text/css" href="style.css"/>
        </head>

<body id='body' class="black">


<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>

<!--<button id="saveButton">Save Character</button>-->

<script src="script.js" type="module"></script>

<script>
    function savePNG() {
        const screenShotTarget = document.getElementById('main');
        const title = document.getElementById('adj1').textContent + " " + document.getElementById('noun1').textContent + ".png";
        console.log(title);

        document.getElementById('saveButton').textContent = "Loading ...";
        document.getElementById('saveButton').setAttribute('class', 'non-hover-button');

        // Introduce a delay (e.g., 2 seconds) before taking the screenshot
        setTimeout(() => {
            domtoimage.toPng(screenShotTarget)
                .then((dataUrl) => {
                    // Create a link element to download the image
                    const link = document.createElement('a');
                    link.href = dataUrl;
                    link.download = title;
                    // Trigger a click on the link to start the download
                    link.click();
                })
                .catch((error) => {
                    console.error('Error capturing screenshot:', error);
                })
                .finally(() => {
                    setTimeout(() => {
                          document.getElementById('saveButton').textContent = "Save as PNG";
                          document.getElementById('saveButton').setAttribute('class', 'button');
                    }, 2000);
                });
        }, 1000); // Adjust the delay as needed
    }// ;

</script>


</body>
</html>
